<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin Rainbow Chart: Spot vs MSTR MNAV</title>

    <!-- Primary Meta Tags -->
    <meta name="title" content="BTC MNAV Rainbow Chart - Interactive MicroStrategy Premium Calculator">
    <meta name="description" content="Visualize Bitcoin's rainbow bands alongside MicroStrategy's MNAV premium. Interactive calculator shows how debt and preferred stock affect the true enterprise value ratio.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://posix4e.github.io/btc-mnav-rainbow/">
    <meta property="og:title" content="BTC MNAV Rainbow Chart - Interactive MicroStrategy Premium Calculator">
    <meta property="og:description" content="Visualize Bitcoin's rainbow bands alongside MicroStrategy's MNAV premium. Interactive calculator shows how debt and preferred stock affect the true enterprise value ratio.">
    <meta property="og:image" content="https://posix4e.github.io/btc-mnav-rainbow/preview.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://posix4e.github.io/btc-mnav-rainbow/">
    <meta property="twitter:title" content="BTC MNAV Rainbow Chart">
    <meta property="twitter:description" content="Interactive chart comparing Bitcoin spot price to MicroStrategy's MNAV-adjusted price with component toggles">
    <meta property="twitter:image" content="https://posix4e.github.io/btc-mnav-rainbow/preview.png">

    <!-- Additional SEO -->
    <meta name="keywords" content="Bitcoin, MSTR, MicroStrategy, MNAV, Rainbow Chart, BTC, Cryptocurrency, Michael Saylor">
    <meta name="author" content="posix4e">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://posix4e.github.io/btc-mnav-rainbow/">

    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/regression@2.0.1/dist/regression.min.js"></script>
    <script src="data.js"></script>
    <script src="chart.js"></script>
</head>
<body>
    <div class="container">
        <h1>üåà Bitcoin Rainbow Chart</h1>
        <p class="subtitle">Comparing BTC Spot Price vs MSTR MNAV-Adjusted Price</p>

        <div class="controls">
            <div class="toggle-group">
                <input type="checkbox" id="showSpot" checked>
                <label for="showSpot">BTC Spot Price</label>
            </div>
            <div class="toggle-group">
                <input type="checkbox" id="showNaiveMNAV" checked>
                <label for="showNaiveMNAV">Naive MNAV</label>
            </div>
            <div class="toggle-group">
                <input type="checkbox" id="showAdvancedMNAV" checked>
                <label for="showAdvancedMNAV">Advanced MNAV</label>
            </div>
            <div class="toggle-group">
                <input type="checkbox" id="showSpotRainbow" checked>
                <label for="showSpotRainbow">Rainbow Bands</label>
            </div>
            <div class="toggle-group">
                <input type="checkbox" id="showHalvings" checked>
                <label for="showHalvings">Halving Lines</label>
            </div>
        </div>

        <div class="controls" style="margin-top: 10px; background: rgba(100, 100, 100, 0.1); padding: 10px; border-radius: 8px;">
            <div style="font-weight: bold; margin-bottom: 10px;">Custom MNAV Components:</div>
            <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                <div class="toggle-group" style="background: rgba(255, 99, 132, 0.1);">
                    <input type="checkbox" id="includeDebt" checked>
                    <label for="includeDebt">+ Debt</label>
                </div>
                <div class="toggle-group" style="background: rgba(54, 162, 235, 0.1);">
                    <input type="checkbox" id="includeSTRC" checked>
                    <label for="includeSTRC">+ STRC</label>
                </div>
                <div class="toggle-group" style="background: rgba(255, 206, 86, 0.1);">
                    <input type="checkbox" id="includeSTRD" checked>
                    <label for="includeSTRD">+ STRD</label>
                </div>
                <div class="toggle-group" style="background: rgba(75, 192, 192, 0.1);">
                    <input type="checkbox" id="includeSTRF" checked>
                    <label for="includeSTRF">+ STRF</label>
                </div>
                <div class="toggle-group" style="background: rgba(153, 102, 255, 0.1);">
                    <input type="checkbox" id="includeSTRK" checked>
                    <label for="includeSTRK">+ STRK</label>
                </div>
            </div>
            <div class="toggle-group" style="margin-top: 10px;">
                <input type="checkbox" id="showCustomMNAV" checked>
                <label for="showCustomMNAV">Show Custom MNAV</label>
            </div>
        </div>

        <div class="controls" style="margin-top: 15px;">
            <div class="toggle-group" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 5px;">
                <button class="time-btn" data-range="1Y">1Y</button>
                <button class="time-btn" data-range="3Y">3Y</button>
                <button class="time-btn" data-range="5Y">5Y</button>
                <button class="time-btn active" data-range="ALL">All Time</button>
            </div>
        </div>

        <!-- Model presets and custom controls removed: using fitted reference model from data.js -->

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: #c00200;"></div>
                <span>Maximum bubble territory</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #d64018;"></div>
                <span>Sell. Seriously, SELL!</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #ed7d31;"></div>
                <span>FOMO Intensifies</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #f6b45a;"></div>
                <span>Is this a bubble?</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #feeb84;"></div>
                <span>HODL!</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #b1d580;"></div>
                <span>Still cheap</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #63be7b;"></div>
                <span>Accumulate</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #54989f;"></div>
                <span>BUY!</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #4472c4;"></div>
                <span>Fire sale!</span>
            </div>
        </div>

        <div class="chart-wrapper">
            <canvas id="rainbowChart"></canvas>
        </div>

        <div class="stats" id="stats"></div>

    <div class="explainer">
        <h2>üìà Why MNAV Rainbow Bands Match Historical Cycles Better</h2>

        <div class="insight-grid">
            <div class="insight-card">
                <h3>üéØ The Pattern Recognition</h3>
                <p>While Bitcoin's spot price peaked at ~$105K in this cycle (below the rainbow's red "bubble" zone), the MSTR MNAV-adjusted price reached $160K+, touching the euphoric bands that previous cycles achieved. The reward didn't disappear‚Äîit was delivered through a different channel: corporate leverage.</p>
            </div>

            <div class="insight-card">
                <h3>‚öôÔ∏è The Halving Effect</h3>
                <p>Bitcoin halvings historically trigger 10-20x price movements within 12-18 months. In 2024, the spot price "only" achieved 3-4x, but MSTR's leveraged structure captured the missing multiplier through premium expansion, maintaining the rainbow pattern's predictive power.</p>
            </div>

            <div class="insight-card">
                <h3>üè¢ Corporate Arbitrage</h3>
                <p>MicroStrategy discovered how to "front-run" Bitcoin cycles using corporate finance tools: convertible debt at 0.625% to buy an asset appreciating 50%+ annually. This leverage amplifies the underlying Bitcoin movements, creating synthetic exposure that follows historical rainbow patterns.</p>
            </div>

            <div class="insight-card">
                <h3>üåä The Liquidity Channel</h3>
                <p>As Bitcoin becomes institutionalized, direct spot purchases face liquidity constraints. MSTR provides an alternative liquidity channel where institutional capital can express bullish views without moving the spot market, explaining why MNAV premiums expand during anticipated cycle peaks.</p>
            </div>

            <div class="insight-card">
                <h3>üìä The Volatility Premium</h3>
                <p>MSTR implied volatility (71%) exceeds Bitcoin's (45%) significantly. Options traders pay premium for this amplified volatility, which gets reflected in the stock price. This "vol premium" pushes MNAV-adjusted prices into rainbow bands that spot prices can't reach due to market depth limitations.</p>
            </div>

            <div class="insight-card">
                <h3>üîÑ The Reflexive Cycle</h3>
                <p>Higher MSTR price ‚Üí Issue more converts ‚Üí Buy more BTC ‚Üí BTC price rises ‚Üí MSTR premium expands ‚Üí Higher MSTR price. This reflexive loop accelerates during bull markets, creating the exponential moves that match historical rainbow patterns even when spot markets are more mature and less volatile.</p>
            </div>
        </div>

        <div class="key-insight">
            <h3>üîë The Key Insight</h3>
            <p>The rainbow chart isn't broken‚Äîthe market just found a new expression mechanism. What used to manifest as pure spot price discovery now flows through corporate financial engineering. The MNAV-adjusted price reveals that cycle dynamics remain intact; they're just wearing a three-piece suit instead of a hoodie.</p>
            <p class="formula">
                <strong>Historical Pattern:</strong> Halving ‚Üí Spot 10-20x ‚Üí Rainbow Red Zone<br>
                <strong>New Pattern:</strong> Halving ‚Üí Spot 3-4x + MNAV Premium 3-5x ‚Üí Rainbow Red Zone<br>
                <strong>Result:</strong> Same rainbow levels, different path
            </p>
        </div>
    </div>
    </div>
</body>
</html>
